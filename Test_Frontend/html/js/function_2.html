<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>자바스크립트 함수(2)</title>
    <style>
        pre {
            font-size: 1.3em;
            font-family: D2Coding serif;
        }
    </style>
    <script>
        window.addEventListener('load', win);
        function win() {
            /* 반복문의 종류
            1) Legacy for문: for(let i=0; i<10; ++i) {...}
            2) for ~ in 문: 배열에서 인덱스를 가져오는 반복문. for(index in 배열) {...}
            3) for ~ of 문: 배열이나 객체{}에서 각 요소를 가져오는 반복문. for(item of 객체) {...}
            4) 배열.forEach(콜백함수)
            */

            // 1) forEach문 테스트
            let ary = [10, 11, 100, 101, 1000];
            let total = 0;
            ary.forEach(function (item, index) {
                total += item;
            });
            console.log(`배열의 총합: ${total}`);

            // 2) 위 forEach()문을 화살표 함수로 변경
            total = 0;
            ary.forEach((item) => total += item);
            console.log(`배열의 총합2: ${total}`);

            // ------------- map()
            /*
                배열.map(콜백 화살표함수)
                : 배열의 각 요소에 접근해 요소를 변경
                : 배열 전체를 순회하여 처리한 결과를 새로운 배열로 만들어서 반환 
                : 원본 배열은 건드리지 않는다.
            */
            let result = ary.map((item) => item * 2);
            result = ary.map(function (item) { return item * 2; }); // 위 아래 코드는 동일
            console.log(`map 함수로 처리한 결과 : ${result}`);
            console.log(`원본 : ${ary}`);

            // ------------- filter()
            /*
                배열.filter(콜백함수)
                : 배열 요소의 데이터를 필터링하여 원하는 데이터만 추출
                : 배열 전체를 순회하여 원하는 데이터면 true를 반환
                : filter() 함수는 true가 반환된 데이터만 모아서 새로운 배열을 만든다. 
            */
            // 1) 콜백함수를 일반함수로 처리
            result = ary.filter(function (item) {
                if (item % 2 == 0) return true;
            });
            console.log(`추출된 배열: ${result}`);

            // 2) 콜백함수를 화살표함수로 처리(1)
            result = ary.filter((item) => { if (item % 2 == 0) return true; });
            console.log(`추출된 배열: ${result}`);

            // 3) 콜백함수를 화살표함수로 처리(2) : 0 => falsy 값
            result = ary.filter((item) => { if (!(item % 2)) return true; }); // 홀수 추출
            console.log(`추출된 배열: ${result}`);
        }
    </script>
</head>

<body>
    <h1>
        <a href="../index.html">
            <img src="./images/home.png" alt="홈으로">
        </a>
    </h1>
    <h2>자바스크립트 함수(2)</h2>
    <p style="color:red;">※ 실행결과는 콘솔창으로 보시오!</p>
    <pre>
        ※ 함수의 용어 정리
        (1) 일급함수: 함수를 값처럼 다룸. 변수에 대입, 전달인자로 함수를 던질 수 있다. 
        (2) 콜백함수: 다른 함수에 전달되어 사용. setInterval(콜백함수, 밀리초);
        (3) 고차함수: 함수를 인자로 받거나 반환하는 함수. setInterval은 고차함수
    </pre>
    <hr>
</body>

</html>